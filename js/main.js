'use strict';

if (window.location.pathname === '/notas' || window.location.pathname === '/notas.html') {
  var estilo = document.getElementById('estilo');
  var bienestar = document.getElementById('bienestar');
  var tendencias = document.getElementById('tendencias');
  var contenedorEstilo = document.getElementById('contenedor-estilo');
  var contenedorBienestar = document.getElementById('contenedor-bienestar');
  var contenedorTendencias = document.getElementById('contenedor-tendencias');

  estilo.addEventListener('click', function () {
    contenedorEstilo.classList.remove('blog__seccion--oculta');
    contenedorBienestar.classList.add('blog__seccion--oculta');
    contenedorTendencias.classList.add('blog__seccion--oculta');
  });
  bienestar.addEventListener('click', function () {
    contenedorEstilo.classList.add('blog__seccion--oculta');
    contenedorBienestar.classList.remove('blog__seccion--oculta');
    contenedorTendencias.classList.add('blog__seccion--oculta');
  });
  tendencias.addEventListener('click', function () {
    contenedorEstilo.classList.add('blog__seccion--oculta');
    contenedorBienestar.classList.add('blog__seccion--oculta');
    contenedorTendencias.classList.remove('blog__seccion--oculta');
  });
}

var doc = document.documentElement;
var main = document.getElementsByTagName('main');
var menu = document.getElementById('menu');
var bottonMenu = document.getElementById('botton-menu');
var navegacionPrincipal = document.getElementById('navegacion-principal');
var submenu = document.getElementById('submenu');
var nosotros = document.getElementById('nosotros');
var nosotrosItem = document.getElementById('nosotros-item');
var arriba = document.getElementById('arriba');
var fase1 = document.getElementById('fase1');
var fase2 = document.getElementById('fase2');
var contenedorFlecha1 = document.getElementById('contenedor-flecha1');
var contenedorFlecha2 = document.getElementById('contenedor-flecha2');
var flecha1 = document.getElementById('flecha1');
var flecha2 = document.getElementById('flecha2');
var contenidoFase1 = document.getElementById('contenido-fase1');
var contenidoFase2 = document.getElementById('contenido-fase2');

var expandirMenu = function expandirMenu() {
  bottonMenu.classList.toggle('botton-menu__logo--cerrar');
  navegacionPrincipal.classList.toggle('navegacion-principal--extendida');
  navegacionPrincipal.classList.remove('navegacion-principal--extendida2');
  nosotrosItem.classList.remove('navegacion-principal__nosotros--giro');
  submenu.classList.remove('navegacion-principal__dos--extendida');
};

var expandirSubmenu = function expandirSubmenu() {
  nosotrosItem.classList.toggle('navegacion-principal__nosotros--giro');
  navegacionPrincipal.classList.toggle('navegacion-principal--extendida2');
  submenu.classList.toggle('navegacion-principal__dos--extendida');
};

var cerrarMenu = function cerrarMenu() {
  bottonMenu.classList.remove('botton-menu__logo--cerrar');
  navegacionPrincipal.classList.remove('navegacion-principal--extendida');
  navegacionPrincipal.classList.remove('navegacion-principal--extendida2');
  nosotrosItem.classList.remove('navegacion-principal__nosotros--giro');
  submenu.classList.remove('navegacion-principal__dos--extendida');
};

var subir = function subir(id) {
  if (id === 'fase2' || id === 'flecha2' || id === 'contenedor-flecha2') {
    console.log(id);
    doc.scrollTop = 420;
  } else {
    var scrollStep = -window.scrollY / (500 / 3);
    var scrollInterval = setInterval(function () {
      if (window.scrollY !== 0) {
        window.scrollBy(500, scrollStep);
      } else clearInterval(scrollInterval);
    }, 1);
  }
};

var bajar = function bajar(scroll) {
  var bajar = setInterval(function () {
    doc.scrollTop += scroll / 40;
    if (doc.scrollTop > scroll || doc.clientHeight < 1000) {
      clearInterval(bajar);
    }
  }, 10);
};

// const mostrarBotonArriba = () => {
//   if (document.documentElement.scrollTop > 400 && arriba) {
//     arriba.style.right = '1em'
//   } else {
//     arriba.style.right = '-5em'
//   }
// }

var mostrarFase = function mostrarFase(e) {
  e.stopPropagation();

  var id = e.target.id;

  if (id === 'fase1' || id === 'flecha1' || id === 'contenedor-flecha1') {
    contenidoFase1.classList.toggle('responsabilidad__contenido--extendido');
    contenidoFase2.classList.remove('responsabilidad__contenido--extendido');
    bajar(420);
  }

  if (id === 'fase2' || id === 'flecha2' || id === 'contenedor-flecha2') {
    contenidoFase2.classList.toggle('responsabilidad__contenido--extendido');
    contenidoFase1.classList.remove('responsabilidad__contenido--extendido');
    if (doc.scrollTop < 600) {
      bajar(600);
    } else {
      subir(id);
    }
  }
};

menu.addEventListener('click', function () {
  return expandirMenu();
});
nosotros.addEventListener('click', function () {
  return expandirSubmenu();
});
window.addEventListener('scroll', function () {
  return mostrarBotonArriba();
});
if (fase1) fase1.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (fase2) fase2.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (contenedorFlecha1) contenedorFlecha1.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (contenedorFlecha2) contenedorFlecha2.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (flecha1) flecha1.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (flecha2) flecha2.addEventListener('click', function (e) {
  return mostrarFase(e);
});
if (arriba) arriba.addEventListener('click', function (e) {
  return subir(e);
});
main[0].addEventListener('click', function () {
  return cerrarMenu();
});

if (window.location.pathname.includes('productos') || window.location.pathname === '/prueba-liv/' || window.location.pathname === '/') {
  // const bottonSlider = document.getElementById('botton-slider')
  var productos = Array.from(document.getElementsByClassName('slider-productos__imagen'));
  var anterior = document.getElementById('boton-anterior');
  var siguiente = document.getElementById('boton-siguiente');
  var sliderProductos = void 0;

  var recorrerClases = function recorrerClases() {
    productos.forEach(function (item, index) {
      item.style.zIndex = '' + index;
      if (index === 0) {
        item.classList.add('slider-productos__imagen--transparente');
      } else {
        item.classList.remove('slider-productos__imagen--transparente');
      }
    });
  };

  var agragarSlider = function agragarSlider() {
    sliderProductos = setInterval(function () {
      productos[productos.length - 1].classList.add('slider-productos__imagen--transparente');
      setTimeout(function () {
        var ultimo = productos.pop();
        productos.unshift(ultimo);
        productos[0].classList.remove('slider-productos__imagen--transparente');
        recorrerClases();
      }, 400);
    }, 5000);
  };

  var productoAnterior = function productoAnterior() {
    clearInterval(sliderProductos);
    var primero = productos.shift();
    productos.push(primero);
    recorrerClases();
    agragarSlider();
  };

  var productoSiguiente = function productoSiguiente() {
    clearInterval(sliderProductos);
    var ultimo = productos.pop();
    ultimo.classList.add('slider-productos__imagen--transparente');
    productos.unshift(ultimo);
    setTimeout(function () {
      recorrerClases();
    }, 400);
    agragarSlider();
  };

  recorrerClases();
  agragarSlider();

  if (anterior) anterior.addEventListener('click', function () {
    return productoAnterior();
  });
  if (siguiente) siguiente.addEventListener('click', function () {
    return productoSiguiente();
  });
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2cuanMiLCJtYWluLmpzIiwic2xpZGVyLXByb2R1Y3Rvcy5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiZXN0aWxvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJpZW5lc3RhciIsInRlbmRlbmNpYXMiLCJjb250ZW5lZG9yRXN0aWxvIiwiY29udGVuZWRvckJpZW5lc3RhciIsImNvbnRlbmVkb3JUZW5kZW5jaWFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImRvYyIsImRvY3VtZW50RWxlbWVudCIsIm1haW4iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm1lbnUiLCJib3R0b25NZW51IiwibmF2ZWdhY2lvblByaW5jaXBhbCIsInN1Ym1lbnUiLCJub3NvdHJvcyIsIm5vc290cm9zSXRlbSIsImFycmliYSIsImZhc2UxIiwiZmFzZTIiLCJjb250ZW5lZG9yRmxlY2hhMSIsImNvbnRlbmVkb3JGbGVjaGEyIiwiZmxlY2hhMSIsImZsZWNoYTIiLCJjb250ZW5pZG9GYXNlMSIsImNvbnRlbmlkb0Zhc2UyIiwiZXhwYW5kaXJNZW51IiwidG9nZ2xlIiwiZXhwYW5kaXJTdWJtZW51IiwiY2VycmFyTWVudSIsInN1YmlyIiwiaWQiLCJjb25zb2xlIiwibG9nIiwic2Nyb2xsVG9wIiwic2Nyb2xsU3RlcCIsInNjcm9sbFkiLCJzY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwic2Nyb2xsQnkiLCJjbGVhckludGVydmFsIiwiYmFqYXIiLCJzY3JvbGwiLCJjbGllbnRIZWlnaHQiLCJtb3N0cmFyRmFzZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJ0YXJnZXQiLCJtb3N0cmFyQm90b25BcnJpYmEiLCJpbmNsdWRlcyIsInByb2R1Y3RvcyIsIkFycmF5IiwiZnJvbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhbnRlcmlvciIsInNpZ3VpZW50ZSIsInNsaWRlclByb2R1Y3RvcyIsInJlY29ycmVyQ2xhc2VzIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInN0eWxlIiwiekluZGV4IiwiYWdyYWdhclNsaWRlciIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJ1bHRpbW8iLCJwb3AiLCJ1bnNoaWZ0IiwicHJvZHVjdG9BbnRlcmlvciIsInByaW1lcm8iLCJzaGlmdCIsInB1c2giLCJwcm9kdWN0b1NpZ3VpZW50ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxPQUFBQyxRQUFBLENBQUFDLFFBQUEsS0FBQSxRQUFBLElBQ0FGLE9BQUFDLFFBQUEsQ0FBQUMsUUFBQSxLQUFBLGFBREEsRUFDQTtBQUNBLE1BQUFDLFNBQUFDLFNBQUFDLGNBQUEsQ0FBQSxRQUFBLENBQUE7QUFDQSxNQUFBQyxZQUFBRixTQUFBQyxjQUFBLENBQUEsV0FBQSxDQUFBO0FBQ0EsTUFBQUUsYUFBQUgsU0FBQUMsY0FBQSxDQUFBLFlBQUEsQ0FBQTtBQUNBLE1BQUFHLG1CQUFBSixTQUFBQyxjQUFBLENBQUEsbUJBQUEsQ0FBQTtBQUNBLE1BQUFJLHNCQUFBTCxTQUFBQyxjQUFBLENBQUEsc0JBQUEsQ0FBQTtBQUNBLE1BQUFLLHVCQUFBTixTQUFBQyxjQUFBLENBQUEsdUJBQUEsQ0FBQTs7QUFFQUYsU0FBQVEsZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsWUFBQTtBQUNBSCxxQkFBQUksU0FBQSxDQUFBQyxNQUFBLENBQUEsdUJBQUE7QUFDQUosd0JBQUFHLFNBQUEsQ0FBQUUsR0FBQSxDQUFBLHVCQUFBO0FBQ0FKLHlCQUFBRSxTQUFBLENBQUFFLEdBQUEsQ0FBQSx1QkFBQTtBQUNBLEdBSkE7QUFLQVIsWUFBQUssZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsWUFBQTtBQUNBSCxxQkFBQUksU0FBQSxDQUFBRSxHQUFBLENBQUEsdUJBQUE7QUFDQUwsd0JBQUFHLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLHVCQUFBO0FBQ0FILHlCQUFBRSxTQUFBLENBQUFFLEdBQUEsQ0FBQSx1QkFBQTtBQUNBLEdBSkE7QUFL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a0IsT0FBQSxDQUFBRixNQUFBO0FBQ0FoQixrQkFBQSxDQUFBLEVBQUE5QyxTQUFBLENBQUFDLE1BQUEsQ0FBQSx3Q0FBQTtBQUNBb0Q7QUFDQSxPQUxBLEVBS0EsR0FMQTtBQU1BLEtBUkEsRUFRQSxJQVJBLENBQUE7QUFTQSxHQVZBOztBQVlBLE1BQUFZLG1CQUFBLFNBQUFBLGdCQUFBLEdBQUE7QUFDQTdCLGtCQUFBZ0IsZUFBQTtBQUNBLFFBQUFjLFVBQUFwQixVQUFBcUIsS0FBQSxFQUFBO0FBQ0FyQixjQUFBc0IsSUFBQSxDQUFBRixPQUFBO0FBQ0FiO0FBQ0FNO0FBQ0EsR0FOQTs7QUFRQSxNQUFBVSxvQkFBQSxTQUFBQSxpQkFBQSxHQUFBO0FBQ0FqQyxrQkFBQWdCLGVBQUE7QUFDQSxRQUFBVSxTQUFBaEIsVUFBQWlCLEdBQUEsRUFBQTtBQUNBRCxXQUFBOUQsU0FBQSxDQUFBRSxHQUFBLENBQUEsd0NBQUE7QUFDQTRDLGNBQUFrQixPQUFBLENBQUFGLE1BQUE7QUFDQUQsZUFBQSxZQUFBO0FBQ0FSO0FBQ0EsS0FGQSxFQUVBLEdBRkE7QUFHQU07QUFDQSxHQVRBOztBQVdBTjtBQUNBTTs7QUFFQSxNQUFBVCxRQUFBLEVBQUFBLFNBQUFuRCxnQkFBQSxDQUFBLE9BQUEsRUFBQTtBQUFBLFdBQUFrRSxrQkFBQTtBQUFBLEdBQUE7QUFDQSxNQUFBZCxTQUFBLEVBQUFBLFVBQUFwRCxnQkFBQSxDQUFBLE9BQUEsRUFBQTtBQUFBLFdBQUFzRSxtQkFBQTtBQUFBLEdBQUE7QUFDQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9ub3RhcycgfHxcbiAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvbm90YXMuaHRtbCcpIHtcbiAgY29uc3QgZXN0aWxvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VzdGlsbycpXG4gIGNvbnN0IGJpZW5lc3RhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWVuZXN0YXInKVxuICBjb25zdCB0ZW5kZW5jaWFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbmRlbmNpYXMnKVxuICBjb25zdCBjb250ZW5lZG9yRXN0aWxvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbmVkb3ItZXN0aWxvJylcbiAgY29uc3QgY29udGVuZWRvckJpZW5lc3RhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW5lZG9yLWJpZW5lc3RhcicpXG4gIGNvbnN0IGNvbnRlbmVkb3JUZW5kZW5jaWFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbmVkb3ItdGVuZGVuY2lhcycpXG5cbiAgZXN0aWxvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnRlbmVkb3JFc3RpbG8uY2xhc3NMaXN0LnJlbW92ZSgnYmxvZ19fc2VjY2lvbi0tb2N1bHRhJylcbiAgICBjb250ZW5lZG9yQmllbmVzdGFyLmNsYXNzTGlzdC5hZGQoJ2Jsb2dfX3NlY2Npb24tLW9jdWx0YScpXG4gICAgY29udGVuZWRvclRlbmRlbmNpYXMuY2xhc3NMaXN0LmFkZCgnYmxvZ19fc2VjY2lvbi0tb2N1bHRhJylcbiAgfSlcbiAgYmllbmVzdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnRlbmVkb3JFc3RpbG8uY2xhc3NMaXN0LmFkZCgnYmxvZ19fc2VjY2lvbi0tb2N1bHRhJylcbiAgICBjb250ZW5lZG9yQmllbmVzdGFyLmNsYXNzTGlzdC5yZW1vdmUoJ2Jsb2dfX3NlY2Npb24tLW9jdWx0YScpXG4gICAgY29udGVuZWRvclRlbmRlbmNpYXMuY2xhc3NMaXN0LmFkZCgnYmxvZ19fc2VjY2lvbi0tb2N1bHRhJylcbiAgfSlcbiAgdGVuZGVuY2lhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb250ZW5lZG9yRXN0aWxvLmNsYXNzTGlzdC5hZGQoJ2Jsb2dfX3NlY2Npb24tLW9jdWx0YScpXG4gICAgY29udGVuZWRvckJpZW5lc3Rhci5jbGFzc0xpc3QuYWRkKCdibG9nX19zZWNjaW9uLS1vY3VsdGEnKVxuICAgIGNvbnRlbmVkb3JUZW5kZW5jaWFzLmNsYXNzTGlzdC5yZW1vdmUoJ2Jsb2dfX3NlY2Npb24tLW9jdWx0YScpXG4gIH0pXG59XG4iLCJjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWFpbicpXG5jb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKVxuY29uc3QgYm90dG9uTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3R0b24tbWVudScpXG5jb25zdCBuYXZlZ2FjaW9uUHJpbmNpcGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmVnYWNpb24tcHJpbmNpcGFsJylcbmNvbnN0IHN1Ym1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWVudScpXG5jb25zdCBub3NvdHJvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3NvdHJvcycpXG5jb25zdCBub3NvdHJvc0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9zb3Ryb3MtaXRlbScpXG5jb25zdCBhcnJpYmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJyaWJhJylcbmNvbnN0IGZhc2UxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zhc2UxJylcbmNvbnN0IGZhc2UyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zhc2UyJylcbmNvbnN0IGNvbnRlbmVkb3JGbGVjaGExID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbmVkb3ItZmxlY2hhMScpXG5jb25zdCBjb250ZW5lZG9yRmxlY2hhMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW5lZG9yLWZsZWNoYTInKVxuY29uc3QgZmxlY2hhMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbGVjaGExJylcbmNvbnN0IGZsZWNoYTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxlY2hhMicpXG5jb25zdCBjb250ZW5pZG9GYXNlMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW5pZG8tZmFzZTEnKVxuY29uc3QgY29udGVuaWRvRmFzZTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVuaWRvLWZhc2UyJylcblxuY29uc3QgZXhwYW5kaXJNZW51ID0gKCkgPT4ge1xuICBib3R0b25NZW51LmNsYXNzTGlzdC50b2dnbGUoJ2JvdHRvbi1tZW51X19sb2dvLS1jZXJyYXInKVxuICBuYXZlZ2FjaW9uUHJpbmNpcGFsLmNsYXNzTGlzdC50b2dnbGUoJ25hdmVnYWNpb24tcHJpbmNpcGFsLS1leHRlbmRpZGEnKVxuICBuYXZlZ2FjaW9uUHJpbmNpcGFsLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmVnYWNpb24tcHJpbmNpcGFsLS1leHRlbmRpZGEyJylcbiAgbm9zb3Ryb3NJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmVnYWNpb24tcHJpbmNpcGFsX19ub3NvdHJvcy0tZ2lybycpXG4gIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWxfX2Rvcy0tZXh0ZW5kaWRhJylcbn1cblxuY29uc3QgZXhwYW5kaXJTdWJtZW51ID0gKCkgPT4ge1xuICBub3NvdHJvc0l0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWxfX25vc290cm9zLS1naXJvJylcbiAgbmF2ZWdhY2lvblByaW5jaXBhbC5jbGFzc0xpc3QudG9nZ2xlKCduYXZlZ2FjaW9uLXByaW5jaXBhbC0tZXh0ZW5kaWRhMicpXG4gIHN1Ym1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWxfX2Rvcy0tZXh0ZW5kaWRhJylcbn1cblxuY29uc3QgY2VycmFyTWVudSA9ICgpID0+IHtcbiAgYm90dG9uTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdib3R0b24tbWVudV9fbG9nby0tY2VycmFyJylcbiAgbmF2ZWdhY2lvblByaW5jaXBhbC5jbGFzc0xpc3QucmVtb3ZlKCduYXZlZ2FjaW9uLXByaW5jaXBhbC0tZXh0ZW5kaWRhJylcbiAgbmF2ZWdhY2lvblByaW5jaXBhbC5jbGFzc0xpc3QucmVtb3ZlKCduYXZlZ2FjaW9uLXByaW5jaXBhbC0tZXh0ZW5kaWRhMicpXG4gIG5vc290cm9zSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCduYXZlZ2FjaW9uLXByaW5jaXBhbF9fbm9zb3Ryb3MtLWdpcm8nKVxuICBzdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ25hdmVnYWNpb24tcHJpbmNpcGFsX19kb3MtLWV4dGVuZGlkYScpXG59XG5cbmNvbnN0IHN1YmlyID0gKGlkKSA9PiB7XG4gIGlmIChpZCA9PT0gJ2Zhc2UyJyB8fCBpZCA9PT0gJ2ZsZWNoYTInIHx8IGlkID09PSAnY29udGVuZWRvci1mbGVjaGEyJykge1xuICAgIGNvbnNvbGUubG9nKGlkKVxuICAgIGRvYy5zY3JvbGxUb3AgPSA0MjBcbiAgfSBlbHNlIHtcbiAgICBsZXQgc2Nyb2xsU3RlcCA9IC13aW5kb3cuc2Nyb2xsWSAvICg1MDAgLyAzKVxuICAgIGxldCBzY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAhPT0gMCkge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoNTAwLCBzY3JvbGxTdGVwKVxuICAgICAgfSBlbHNlIGNsZWFySW50ZXJ2YWwoc2Nyb2xsSW50ZXJ2YWwpXG4gICAgfSwgMSlcbiAgfVxufVxuXG5jb25zdCBiYWphciA9IChzY3JvbGwpID0+IHtcbiAgbGV0IGJhamFyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGRvYy5zY3JvbGxUb3AgKz0gc2Nyb2xsIC8gNDBcbiAgICBpZiAoZG9jLnNjcm9sbFRvcCA+IHNjcm9sbCB8fCBkb2MuY2xpZW50SGVpZ2h0IDwgMTAwMCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChiYWphcilcbiAgICB9XG4gIH0sIDEwKVxufVxuXG4vLyBjb25zdCBtb3N0cmFyQm90b25BcnJpYmEgPSAoKSA9PiB7XG4vLyAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID4gNDAwICYmIGFycmliYSkge1xuLy8gICAgIGFycmliYS5zdHlsZS5yaWdodCA9ICcxZW0nXG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgYXJyaWJhLnN0eWxlLnJpZ2h0ID0gJy01ZW0nXG4vLyAgIH1cbi8vIH1cblxuY29uc3QgbW9zdHJhckZhc2UgPSAoZSkgPT4ge1xuICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgbGV0IGlkID0gZS50YXJnZXQuaWRcblxuICBpZiAoaWQgPT09ICdmYXNlMScgfHwgaWQgPT09ICdmbGVjaGExJyB8fCBpZCA9PT0gJ2NvbnRlbmVkb3ItZmxlY2hhMScpIHtcbiAgICBjb250ZW5pZG9GYXNlMS5jbGFzc0xpc3QudG9nZ2xlKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJylcbiAgICBjb250ZW5pZG9GYXNlMi5jbGFzc0xpc3QucmVtb3ZlKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJylcbiAgICBiYWphcig0MjApXG4gIH1cblxuICBpZiAoaWQgPT09ICdmYXNlMicgfHwgaWQgPT09ICdmbGVjaGEyJyB8fCBpZCA9PT0gJ2NvbnRlbmVkb3ItZmxlY2hhMicpIHtcbiAgICBjb250ZW5pZG9GYXNlMi5jbGFzc0xpc3QudG9nZ2xlKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJylcbiAgICBjb250ZW5pZG9GYXNlMS5jbGFzc0xpc3QucmVtb3ZlKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJylcbiAgICBpZiAoZG9jLnNjcm9sbFRvcCA8IDYwMCkge1xuICAgICAgYmFqYXIoNjAwKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdWJpcihpZClcbiAgICB9XG4gIH1cbn1cblxubWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGV4cGFuZGlyTWVudSgpKVxubm9zb3Ryb3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBleHBhbmRpclN1Ym1lbnUoKSlcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiBtb3N0cmFyQm90b25BcnJpYmEoKSlcbmlmIChmYXNlMSkgZmFzZTEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gbW9zdHJhckZhc2UoZSkpXG5pZiAoZmFzZTIpIGZhc2UyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IG1vc3RyYXJGYXNlKGUpKVxuaWYgKGNvbnRlbmVkb3JGbGVjaGExKSBjb250ZW5lZG9yRmxlY2hhMS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBtb3N0cmFyRmFzZShlKSlcbmlmIChjb250ZW5lZG9yRmxlY2hhMikgY29udGVuZWRvckZsZWNoYTIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gbW9zdHJhckZhc2UoZSkpXG5pZiAoZmxlY2hhMSkgZmxlY2hhMS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBtb3N0cmFyRmFzZShlKSlcbmlmIChmbGVjaGEyKSBmbGVjaGEyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IG1vc3RyYXJGYXNlKGUpKVxuaWYgKGFycmliYSkgYXJyaWJhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHN1YmlyKGUpKVxubWFpblswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNlcnJhck1lbnUoKSlcbiIsImlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJ3Byb2R1Y3RvcycpIHx8XG4gICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3BydWViYS1saXYvJyB8fFxuICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7XG4gIC8vIGNvbnN0IGJvdHRvblNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3R0b24tc2xpZGVyJylcbiAgY29uc3QgcHJvZHVjdG9zID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzbGlkZXItcHJvZHVjdG9zX19pbWFnZW4nKSlcbiAgY29uc3QgYW50ZXJpb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90b24tYW50ZXJpb3InKVxuICBjb25zdCBzaWd1aWVudGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90b24tc2lndWllbnRlJylcbiAgbGV0IHNsaWRlclByb2R1Y3Rvc1xuXG4gIGNvbnN0IHJlY29ycmVyQ2xhc2VzID0gKCkgPT4ge1xuICAgIHByb2R1Y3Rvcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaXRlbS5zdHlsZS56SW5kZXggPSBgJHtpbmRleH1gXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXItcHJvZHVjdG9zX19pbWFnZW4tLXRyYW5zcGFyZW50ZScpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlci1wcm9kdWN0b3NfX2ltYWdlbi0tdHJhbnNwYXJlbnRlJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgYWdyYWdhclNsaWRlciA9ICgpID0+IHtcbiAgICBzbGlkZXJQcm9kdWN0b3MgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBwcm9kdWN0b3NbcHJvZHVjdG9zLmxlbmd0aCAtIDFdLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1wcm9kdWN0b3NfX2ltYWdlbi0tdHJhbnNwYXJlbnRlJylcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsZXQgdWx0aW1vID0gcHJvZHVjdG9zLnBvcCgpXG4gICAgICAgIHByb2R1Y3Rvcy51bnNoaWZ0KHVsdGltbylcbiAgICAgICAgcHJvZHVjdG9zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlci1wcm9kdWN0b3NfX2ltYWdlbi0tdHJhbnNwYXJlbnRlJylcbiAgICAgICAgcmVjb3JyZXJDbGFzZXMoKVxuICAgICAgfSwgNDAwKVxuICAgIH0sIDUwMDApXG4gIH1cblxuICBjb25zdCBwcm9kdWN0b0FudGVyaW9yID0gKCkgPT4ge1xuICAgIGNsZWFySW50ZXJ2YWwoc2xpZGVyUHJvZHVjdG9zKVxuICAgIGxldCBwcmltZXJvID0gcHJvZHVjdG9zLnNoaWZ0KClcbiAgICBwcm9kdWN0b3MucHVzaChwcmltZXJvKVxuICAgIHJlY29ycmVyQ2xhc2VzKClcbiAgICBhZ3JhZ2FyU2xpZGVyKClcbiAgfVxuXG4gIGNvbnN0IHByb2R1Y3RvU2lndWllbnRlID0gKCkgPT4ge1xuICAgIGNsZWFySW50ZXJ2YWwoc2xpZGVyUHJvZHVjdG9zKVxuICAgIGxldCB1bHRpbW8gPSBwcm9kdWN0b3MucG9wKClcbiAgICB1bHRpbW8uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXByb2R1Y3Rvc19faW1hZ2VuLS10cmFuc3BhcmVudGUnKVxuICAgIHByb2R1Y3Rvcy51bnNoaWZ0KHVsdGltbylcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlY29ycmVyQ2xhc2VzKClcbiAgICB9LCA0MDApXG4gICAgYWdyYWdhclNsaWRlcigpXG4gIH1cblxuICByZWNvcnJlckNsYXNlcygpXG4gIGFncmFnYXJTbGlkZXIoKVxuXG4gIGlmIChhbnRlcmlvcikgYW50ZXJpb3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBwcm9kdWN0b0FudGVyaW9yKCkpXG4gIGlmIChzaWd1aWVudGUpIHNpZ3VpZW50ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHByb2R1Y3RvU2lndWllbnRlKCkpXG59XG4iXX0=
