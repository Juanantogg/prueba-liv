'use strict'; var doc = document.documentElement; var menu = document.getElementById('menu'); var bottonMenu = document.getElementById('botton-menu'); var navegacionPrincipal = document.getElementById('navegacion-principal'); var submenu = document.getElementById('submenu'); var nosotros = document.getElementById('nosotros'); var nosotrosItem = document.getElementById('nosotros-item')// const imagenSlider = document.querySelectorAll('.slider__imagen')
// let arraySlider = Array.from(imagenSlider)
// const bottonSlider = document.getElementById('botton-slider')
var arriba = document.getElementById('arriba'); var acordeon = document.getElementsByClassName('responsabilidad__acordeon'); var responsabilidadContenido = document.getElementsByClassName('responsabilidad__contenido'); var flechas = document.getElementsByClassName('responsabilidad__flecha'); var expandirMenu = function expandirMenu () { bottonMenu.classList.toggle('botton-menu__logo--cerrar'); navegacionPrincipal.classList.toggle('navegacion-principal--extendida'); navegacionPrincipal.classList.remove('navegacion-principal--extendida2'); nosotrosItem.classList.remove('navegacion-principal__nosotros--giro'); submenu.classList.remove('navegacion-principal__dos--extendida') }; var expandirSubmenu = function expandirSubmenu () { nosotrosItem.classList.toggle('navegacion-principal__nosotros--giro'); navegacionPrincipal.classList.toggle('navegacion-principal--extendida2'); submenu.classList.toggle('navegacion-principal__dos--extendida') }// const animacionSlide = () => {
//   if (window.location.pathname === '/') {
//     arraySlider.forEach((imagen, index) => {
//       imagen.style.left = `${(index - 1) * 100}%`
//       if (imagen.style.left === '0%') {
//         imagen.style.zIndex = '10'
//       }
//       if (imagen.style.left === '200%') {
//         imagen.style.zIndex = '-10'
//       }
//     })
//   }
// }
// let intervaloSlider = setInterval(() => {
//   let primerImagen = arraySlider.shift()
//   arraySlider.push(primerImagen)
//   animacionSlide()
// }, 5000)
// const cambiarImagen = () => {
//   clearInterval(intervaloSlider)
//   let intervaloSlider1 = setInterval(() => {
//     let primerImagen = arraySlider.shift()
//     arraySlider.push(primerImagen)
//     animacionSlide()
//     clearInterval(intervaloSlider1)
//   }, 100)
//   intervaloSlider = setInterval(() => {
//     let primerImagen = arraySlider.shift()
//     arraySlider.push(primerImagen)
//     animacionSlide()
//   }, 5000)
// }
var subir = function subir () { var scrollStep = -window.scrollY / (500 / 3); var scrollInterval = setInterval(function () { if (window.scrollY !== 0) { window.scrollBy(500, scrollStep) } else clearInterval(scrollInterval) }, 1) }; var bajar = function bajar (scroll) { var bajar = setInterval(function () { doc.scrollTop += scroll / 40; if (doc.scrollTop > scroll) { clearInterval(bajar) } }, 10) }; var mostrarBotonArriba = function mostrarBotonArriba () { if (document.documentElement.scrollTop > 400 && arriba) { arriba.style.right = '1em' } else { arriba.style.right = '-5em' } }; var mostrarFase = function mostrarFase (index) { var span = Array.from(flechas); var contenido = Array.from(responsabilidadContenido); contenido.forEach(function (item, i) { if (i === index) { item.classList.toggle('responsabilidad__contenido--extendido'); span[i].classList.toggle('responsabilidad__flecha--giro') } else { span[i].classList.remove('responsabilidad__flecha--giro'); item.classList.remove('responsabilidad__contenido--extendido') } }); if (!Array.from(contenido[0].classList).includes('responsabilidad__contenido--extendido') && !Array.from(contenido[1].classList).includes('responsabilidad__contenido--extendido')) { subir() } if (window.matchMedia('(max-width: 300px)').matches && Array.from(contenido[index].classList).includes('responsabilidad__contenido--extendido')) { bajar(490) } else if (window.matchMedia('(min-width: 305px)').matches && window.matchMedia('(max-width: 574px)').matches && Array.from(contenido[index].classList).includes('responsabilidad__contenido--extendido')) { bajar(430) } else if (window.matchMedia('(min-width: 575px)').matches && window.matchMedia('(max-width: 719px)').matches && Array.from(contenido[index].classList).includes('responsabilidad__contenido--extendido')) { bajar(380) } else if (window.matchMedia('(min-width: 720px)').matches && window.matchMedia('(max-width: 888px)').matches && Array.from(contenido[index].classList).includes('responsabilidad__contenido--extendido')) { bajar(550) } else if (window.matchMedia('(min-width: 889px)').matches && Array.from(contenido[index].classList).includes('responsabilidad__contenido--extendido')) { bajar(470) } }; menu.addEventListener('click', function () { return expandirMenu() }); nosotros.addEventListener('click', function () { return expandirSubmenu() })// if (bottonSlider) bottonSlider.addEventListener('click', () => cambiarImagen())
if (acordeon) Array.from(acordeon).forEach(function (fase, index) { return fase.addEventListener('click', function () { return mostrarFase(index) }) }); window.addEventListener('scroll', function () { return mostrarBotonArriba() }); if (arriba) arriba.addEventListener('click', function () { return subir() })// window.addEventListener('click', (e) => {
//   e.preventDefault()
//   if (Array.from(bottonMenu.classList).includes('botton-menu__logo--cerrar')) {
//     bottonMenu.classList.remove('botton-menu__logo--cerrar')
//   }
//   navegacionPrincipal.classList.remove('navegacion-principal--extendida')
//   navegacionPrincipal.classList.remove('navegacion-principal--extendida2')
//   nosotrosItem.classList.remove('navegacion-principal__nosotros--giro')
//   submenu.classList.remove('navegacion-principal__dos--extendida')
// })
var estiloVida = document.getElementById('estilo-vida'); var bienestar = document.getElementById('bienestar'); var tendencias = document.getElementById('tendencias'); console.log(estiloVida.childElementCount); console.log(bienestar.childElementCount); console.log(tendencias.childElementCount)/*
  807
  1143
 */if (window.location.pathname.includes('productos') || window.location.pathname === '/prueba-liv/' || window.location.pathname === '/') { // const bottonSlider = document.getElementById('botton-slider')
  var productos = Array.from(document.getElementsByClassName('slider-productos__imagen')); var anterior = document.getElementById('boton-anterior'); var siguiente = document.getElementById('boton-siguiente'); var sliderProductos = void 0; var recorrerClases = function recorrerClases () { productos.forEach(function (item, index) { item.style.zIndex = '' + index; if (index === 0) { item.classList.add('slider-productos__imagen--transparente') } else { item.classList.remove('slider-productos__imagen--transparente') } }) }; var agragarSlider = function agragarSlider () { sliderProductos = setInterval(function () { productos[productos.length - 1].classList.add('slider-productos__imagen--transparente'); setTimeout(function () { var ultimo = productos.pop(); productos.unshift(ultimo); productos[0].classList.remove('slider-productos__imagen--transparente'); recorrerClases() }, 400) }, 5000) }; var productoAnterior = function productoAnterior () { clearInterval(sliderProductos); var primero = productos.shift(); productos.push(primero); recorrerClases(); agragarSlider() }; var productoSiguiente = function productoSiguiente () { clearInterval(sliderProductos); var ultimo = productos.pop(); ultimo.classList.add('slider-productos__imagen--transparente'); productos.unshift(ultimo); setTimeout(function () { recorrerClases() }, 400); agragarSlider() }; recorrerClases(); agragarSlider(); if (anterior) anterior.addEventListener('click', function () { return productoAnterior() }); if (siguiente) siguiente.addEventListener('click', function () { return productoSiguiente() })
}
// # sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJtYXNvbnJ5LmpzIiwic2xpZGVyLXByb2R1Y3Rvcy5qcyJdLCJuYW1lcyI6WyJkb2MiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsIm1lbnUiLCJnZXRFbGVtZW50QnlJZCIsImJvdHRvbk1lbnUiLCJuYXZlZ2FjaW9uUHJpbmNpcGFsIiwic3VibWVudSIsIm5vc290cm9zIiwibm9zb3Ryb3NJdGVtIiwiYXJyaWJhIiwiYWNvcmRlb24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicmVzcG9uc2FiaWxpZGFkQ29udGVuaWRvIiwiZmxlY2hhcyIsImV4cGFuZGlyTWVudSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImV4cGFuZGlyU3VibWVudSIsInN1YmlyIiwic2Nyb2xsU3RlcCIsIndpbmRvdyIsInNjcm9sbFkiLCJzY3JvbGxJbnRlcnZhbCIsInNldEludGVydmFsIiwic2Nyb2xsQnkiLCJjbGVhckludGVydmFsIiwiYmFqYXIiLCJzY3JvbGwiLCJzY3JvbGxUb3AiLCJtb3N0cmFyQm90b25BcnJpYmEiLCJzdHlsZSIsInJpZ2h0IiwibW9zdHJhckZhc2UiLCJpbmRleCIsInNwYW4iLCJBcnJheSIsImZyb20iLCJjb250ZW5pZG8iLCJmb3JFYWNoIiwiaXRlbSIsImkiLCJpbmNsdWRlcyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZhc2UiLCJlc3RpbG9WaWRhIiwiYmllbmVzdGFyIiwidGVuZGVuY2lhcyIsImNvbnNvbGUiLCJsb2ciLCJjaGlsZEVsZW1lbnRDb3VudCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwcm9kdWN0b3MiLCJhbnRlcmlvciIsInNpZ3VpZW50ZSIsInNsaWRlclByb2R1Y3RvcyIsInJlY29ycmVyQ2xhc2VzIiwiekluZGV4IiwiYWRkIiwiYWdyYWdhclNsaWRlciIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJ1bHRpbW8iLCJwb3AiLCJ1bnNoaWZ0IiwicHJvZHVjdG9BbnRlcmlvciIsInByaW1lcm8iLCJzaGlmdCIsInB1c2giLCJwcm9kdWN0b1NpZ3VpZW50ZSJdLCJtYXBwaW5ncyI6ImFBQUEsR0FBQUEsS0FBQUMsU0FBQUMsZUFBQSxDQUNBLEdBQUFDLE1BQUFGLFNBQUFHLGNBQUEsQ0FBQSxNQUFBLENBQUEsQ0FDQSxHQUFBQyxZQUFBSixTQUFBRyxjQUFBLENBQUEsYUFBQSxDQUFBLENBQ0EsR0FBQUUscUJBQUFMLFNBQUFHLGNBQUEsQ0FBQSxzQkFBQSxDQUFBLENBQ0EsR0FBQUcsU0FBQU4sU0FBQUcsY0FBQSxDQUFBLFNBQUEsQ0FBQSxDQUNBLEdBQUFJLFVBQUFQLFNBQUFHLGNBQUEsQ0FBQSxVQUFBLENBQUEsQ0FDQSxHQUFBSyxjQUFBUixTQUFBRyxjQUFBLENBQUEsZUFBQSxDQUFBLENBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBQU0sUUFBQVQsU0FBQUcsY0FBQSxDQUFBLFFBQUEsQ0FBQSxDQUNBLEdBQUFPLFVBQUFWLFNBQUFXLHNCQUFBLENBQUEsMkJBQUEsQ0FBQSxDQUNBLEdBQUFDLDBCQUFBWixTQUFBVyxzQkFBQSxDQUFBLDRCQUFBLENBQUEsQ0FDQSxHQUFBRSxTQUFBYixTQUFBVyxzQkFBQSxDQUFBLHlCQUFBLENBQUEsQ0FFQSxHQUFBRyxjQUFBLFFBQUFBLGFBQUEsRUFBQSxDQUNBVixXQUFBVyxTQUFBLENBQUFDLE1BQUEsQ0FBQSwyQkFBQSxFQUNBWCxvQkFBQVUsU0FBQSxDQUFBQyxNQUFBLENBQUEsaUNBQUEsRUFDQVgsb0JBQUFVLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLGtDQUFBLEVBQ0FULGFBQUFPLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLHNDQUFBLEVBQ0FYLFFBQUFTLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLHNDQUFBLENBQ0EsQ0FOQSxDQVFBLEdBQUFDLGlCQUFBLFFBQUFBLGdCQUFBLEVBQUEsQ0FDQVYsYUFBQU8sU0FBQSxDQUFBQyxNQUFBLENBQUEsc0NBQUEsRUFDQVgsb0JBQUFVLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLGtDQUFBLEVBQ0FWLFFBQUFTLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLHNDQUFBLENBQ0EsQ0FKQSxDQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxHQUFBRyxPQUFBLFFBQUFBLE1BQUEsRUFBQSxDQUNBLEdBQUFDLFlBQUEsQ0FBQUMsT0FBQUMsT0FBQSxFQUFBLElBQUEsQ0FBQSxDQUFBLENBQ0EsR0FBQUMsZ0JBQUFDLFlBQUEsVUFBQSxDQUNBLEdBQUFILE9BQUFDLE9BQUEsR0FBQSxDQUFBLENBQUEsQ0FDQUQsT0FBQUksUUFBQSxDQUFBLEdBQUEsQ0FBQUwsVUFBQSxDQUNBLENBRkEsSUFFQU0sZUFBQUgsY0FBQSxDQUNBLENBSkEsQ0FJQSxDQUpBLENBS0EsQ0FQQSxDQVNBLEdBQUFJLE9BQUEsZUFBQUMsTUFBQSxDQUFBLENBQ0EsR0FBQUQsT0FBQUgsWUFBQSxVQUFBLENBQ0F6QixJQUFBOEIsU0FBQSxFQUFBRCxPQUFBLEVBQUEsQ0FDQSxHQUFBN0IsSUFBQThCLFNBQUEsQ0FBQUQsTUFBQSxDQUFBLENBQ0FGLGNBQUFDLEtBQUEsQ0FDQSxDQUNBLENBTEEsQ0FLQSxFQUxBLENBTUEsQ0FQQSxDQVNBLEdBQUFHLG9CQUFBLFFBQUFBLG1CQUFBLEVBQUEsQ0FDQSxHQUFBOUIsU0FBQUMsZUFBQSxDQUFBNEIsU0FBQSxDQUFBLEdBQUEsRUFBQXBCLE1BQUEsQ0FBQSxDQUNBQSxPQUFBc0IsS0FBQSxDQUFBQyxLQUFBLENBQUEsS0FDQSxDQUZBLElBRUEsQ0FDQXZCLE9BQUFzQixLQUFBLENBQUFDLEtBQUEsQ0FBQSxNQUNBLENBQ0EsQ0FOQSxDQVFBLEdBQUFDLGFBQUEsUUFBQUEsWUFBQSxDQUFBQyxLQUFBLENBQUEsQ0FDQSxHQUFBQyxNQUFBQyxNQUFBQyxJQUFBLENBQUF4QixPQUFBLENBQUEsQ0FDQSxHQUFBeUIsV0FBQUYsTUFBQUMsSUFBQSxDQUFBekIsd0JBQUEsQ0FBQSxDQUVBMEIsVUFBQUMsT0FBQSxDQUFBLFNBQUFDLElBQUEsQ0FBQUMsQ0FBQSxDQUFBLENBQ0EsR0FBQUEsSUFBQVAsS0FBQSxDQUFBLENBQ0FNLEtBQUF6QixTQUFBLENBQUFDLE1BQUEsQ0FBQSx1Q0FBQSxFQUNBbUIsS0FBQU0sQ0FBQSxFQUFBMUIsU0FBQSxDQUFBQyxNQUFBLENBQUEsK0JBQUEsQ0FDQSxDQUhBLElBR0EsQ0FDQW1CLEtBQUFNLENBQUEsRUFBQTFCLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLCtCQUFBLEVBQ0F1QixLQUFBekIsU0FBQSxDQUFBRSxNQUFBLENBQUEsdUNBQUEsQ0FDQSxDQUNBLENBUkEsRUFVQSxHQUFBLENBQUFtQixNQUFBQyxJQUFBLENBQUFDLFVBQUEsQ0FBQSxFQUFBdkIsU0FBQSxFQUFBMkIsUUFBQSxDQUFBLHVDQUFBLENBQUEsRUFDQSxDQUFBTixNQUFBQyxJQUFBLENBQUFDLFVBQUEsQ0FBQSxFQUFBdkIsU0FBQSxFQUFBMkIsUUFBQSxDQUFBLHVDQUFBLENBREEsQ0FDQSxDQUNBdkIsT0FDQSxDQUVBLEdBQUFFLE9BQUFzQixVQUFBLENBQUEsb0JBQUEsRUFBQUMsT0FBQSxFQUNBUixNQUFBQyxJQUFBLENBQUFDLFVBQUFKLEtBQUEsRUFBQW5CLFNBQUEsRUFBQTJCLFFBQUEsQ0FBQSx1Q0FBQSxDQURBLENBQ0EsQ0FDQWYsTUFBQSxHQUFBLENBQ0EsQ0FIQSxJQUdBLElBQUFOLE9BQUFzQixVQUFBLENBQUEsb0JBQUEsRUFBQUMsT0FBQSxFQUNBdkIsT0FBQXNCLFVBQUEsQ0FBQSxvQkFBQSxFQUFBQyxPQURBLEVBRUFSLE1BQUFDLElBQUEsQ0FBQUMsVUFBQUosS0FBQSxFQUFBbkIsU0FBQSxFQUFBMkIsUUFBQSxDQUFBLHVDQUFBLENBRkEsQ0FFQSxDQUNBZixNQUFBLEdBQUEsQ0FDQSxDQUpBLElBSUEsSUFBQU4sT0FBQXNCLFVBQUEsQ0FBQSxvQkFBQSxFQUFBQyxPQUFBLEVBQ0F2QixPQUFBc0IsVUFBQSxDQUFBLG9CQUFBLEVBQUFDLE9BREEsRUFFQVIsTUFBQUMsSUFBQSxDQUFBQyxVQUFBSixLQUFBLEVBQUFuQixTQUFBLEVBQUEyQixRQUFBLENBQUEsdUNBQUEsQ0FGQSxDQUVBLENBQ0FmLE1BQUEsR0FBQSxDQUNBLENBSkEsSUFJQSxJQUFBTixPQUFBc0IsVUFBQSxDQUFBLG9CQUFBLEVBQUFDLE9BQUEsRUFDQXZCLE9BQUFzQixVQUFBLENBQUEsb0JBQUEsRUFBQUMsT0FEQSxFQUVBUixNQUFBQyxJQUFBLENBQUFDLFVBQUFKLEtBQUEsRUFBQW5CLFNBQUEsRUFBQTJCLFFBQUEsQ0FBQSx1Q0FBQSxDQUZBLENBRUEsQ0FDQWYsTUFBQSxHQUFBLENBQ0EsQ0FKQSxJQUlBLElBQUFOLE9BQUFzQixVQUFBLENBQUEsb0JBQUEsRUFBQUMsT0FBQSxFQUNBUixNQUFBQyxJQUFBLENBQUFDLFVBQUFKLEtBQUEsRUFBQW5CLFNBQUEsRUFBQTJCLFFBQUEsQ0FBQSx1Q0FBQSxDQURBLENBQ0EsQ0FDQWYsTUFBQSxHQUFBLENBQ0EsQ0FDQSxDQXRDQSxDQXdDQXpCLEtBQUEyQyxnQkFBQSxDQUFBLE9BQUEsQ0FBQSxpQkFBQS9CLGVBQUEsQ0FBQSxFQUNBUCxTQUFBc0MsZ0JBQUEsQ0FBQSxPQUFBLENBQUEsaUJBQUEzQixrQkFBQSxDQUFBLEVBQ0E7QUFDQSxHQUFBUixRQUFBLENBQUEwQixNQUFBQyxJQUFBLENBQUEzQixRQUFBLEVBQUE2QixPQUFBLENBQUEsU0FBQU8sSUFBQSxDQUFBWixLQUFBLFFBQUFZLE1BQUFELGdCQUFBLENBQUEsT0FBQSxDQUFBLGlCQUFBWixhQUFBQyxLQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsRUFDQWIsT0FBQXdCLGdCQUFBLENBQUEsUUFBQSxDQUFBLGlCQUFBZixxQkFBQSxDQUFBLEVBQ0EsR0FBQXJCLE1BQUEsQ0FBQUEsT0FBQW9DLGdCQUFBLENBQUEsT0FBQSxDQUFBLGlCQUFBMUIsUUFBQSxDQUFBLEVBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqSkEsR0FBQTRCLFlBQUEvQyxTQUFBRyxjQUFBLENBQUEsYUFBQSxDQUFBLENBQ0EsR0FBQTZDLFdBQUFoRCxTQUFBRyxjQUFBLENBQUEsV0FBQSxDQUFBLENBQ0EsR0FBQThDLFlBQUFqRCxTQUFBRyxjQUFBLENBQUEsWUFBQSxDQUFBLENBRUErQyxRQUFBQyxHQUFBLENBQUFKLFdBQUFLLGlCQUFBLEVBQ0FGLFFBQUFDLEdBQUEsQ0FBQUgsVUFBQUksaUJBQUEsRUFDQUYsUUFBQUMsR0FBQSxDQUFBRixXQUFBRyxpQkFBQSxFQUVBOzs7R0NSQSxHQUFBL0IsT0FBQWdDLFFBQUEsQ0FBQUMsUUFBQSxDQUFBWixRQUFBLENBQUEsV0FBQSxHQUNBckIsT0FBQWdDLFFBQUEsQ0FBQUMsUUFBQSxHQUFBLGNBREEsRUFFQWpDLE9BQUFnQyxRQUFBLENBQUFDLFFBQUEsR0FBQSxHQUZBLENBRUEsQ0FDQTtBQUNBLEdBQUFDLFdBQUFuQixNQUFBQyxJQUFBLENBQUFyQyxTQUFBVyxzQkFBQSxDQUFBLDBCQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUE2QyxVQUFBeEQsU0FBQUcsY0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FDQSxHQUFBc0QsV0FBQXpELFNBQUFHLGNBQUEsQ0FBQSxpQkFBQSxDQUFBLENBQ0EsR0FBQXVELHVCQUFBLENBRUEsR0FBQUMsZ0JBQUEsUUFBQUEsZUFBQSxFQUFBLENBQ0FKLFVBQUFoQixPQUFBLENBQUEsU0FBQUMsSUFBQSxDQUFBTixLQUFBLENBQUEsQ0FDQU0sS0FBQVQsS0FBQSxDQUFBNkIsTUFBQSxJQUFBMUIsS0FBQSxDQUNBLEdBQUFBLFFBQUEsQ0FBQSxDQUFBLENBQ0FNLEtBQUF6QixTQUFBLENBQUE4QyxHQUFBLENBQUEsd0NBQUEsQ0FDQSxDQUZBLElBRUEsQ0FDQXJCLEtBQUF6QixTQUFBLENBQUFFLE1BQUEsQ0FBQSx3Q0FBQSxDQUNBLENBQ0EsQ0FQQSxDQVFBLENBVEEsQ0FXQSxHQUFBNkMsZUFBQSxRQUFBQSxjQUFBLEVBQUEsQ0FDQUosZ0JBQUFsQyxZQUFBLFVBQUEsQ0FDQStCLFVBQUFBLFVBQUFRLE1BQUEsQ0FBQSxDQUFBLEVBQUFoRCxTQUFBLENBQUE4QyxHQUFBLENBQUEsd0NBQUEsRUFDQUcsV0FBQSxVQUFBLENBQ0EsR0FBQUMsUUFBQVYsVUFBQVcsR0FBQSxFQUFBLENBQ0FYLFVBQUFZLE9BQUEsQ0FBQUYsTUFBQSxFQUNBVixVQUFBLENBQUEsRUFBQXhDLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLHdDQUFBLEVBQ0EwQyxnQkFDQSxDQUxBLENBS0EsR0FMQSxDQU1BLENBUkEsQ0FRQSxJQVJBLENBU0EsQ0FWQSxDQVlBLEdBQUFTLGtCQUFBLFFBQUFBLGlCQUFBLEVBQUEsQ0FDQTFDLGNBQUFnQyxlQUFBLEVBQ0EsR0FBQVcsU0FBQWQsVUFBQWUsS0FBQSxFQUFBLENBQ0FmLFVBQUFnQixJQUFBLENBQUFGLE9BQUEsRUFDQVYsaUJBQ0FHLGVBQ0EsQ0FOQSxDQVFBLEdBQUFVLG1CQUFBLFFBQUFBLGtCQUFBLEVBQUEsQ0FDQTlDLGNBQUFnQyxlQUFBLEVBQ0EsR0FBQU8sUUFBQVYsVUFBQVcsR0FBQSxFQUFBLENBQ0FELE9BQUFsRCxTQUFBLENBQUE4QyxHQUFBLENBQUEsd0NBQUEsRUFDQU4sVUFBQVksT0FBQSxDQUFBRixNQUFBLEVBQ0FELFdBQUEsVUFBQSxDQUNBTCxnQkFDQSxDQUZBLENBRUEsR0FGQSxFQUdBRyxlQUNBLENBVEEsQ0FXQUgsaUJBQ0FHLGdCQUVBLEdBQUFOLFFBQUEsQ0FBQUEsU0FBQVgsZ0JBQUEsQ0FBQSxPQUFBLENBQUEsaUJBQUF1QixtQkFBQSxDQUFBLEVBQ0EsR0FBQVgsU0FBQSxDQUFBQSxVQUFBWixnQkFBQSxDQUFBLE9BQUEsQ0FBQSxpQkFBQTJCLG9CQUFBLENBQUEsQ0FDQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5jb25zdCBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKVxuY29uc3QgYm90dG9uTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3R0b24tbWVudScpXG5jb25zdCBuYXZlZ2FjaW9uUHJpbmNpcGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmVnYWNpb24tcHJpbmNpcGFsJylcbmNvbnN0IHN1Ym1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWVudScpXG5jb25zdCBub3NvdHJvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3NvdHJvcycpXG5jb25zdCBub3NvdHJvc0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9zb3Ryb3MtaXRlbScpXG4vLyBjb25zdCBpbWFnZW5TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19pbWFnZW4nKVxuLy8gbGV0IGFycmF5U2xpZGVyID0gQXJyYXkuZnJvbShpbWFnZW5TbGlkZXIpXG4vLyBjb25zdCBib3R0b25TbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90dG9uLXNsaWRlcicpXG5jb25zdCBhcnJpYmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJyaWJhJylcbmNvbnN0IGFjb3JkZW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVzcG9uc2FiaWxpZGFkX19hY29yZGVvbicpXG5jb25zdCByZXNwb25zYWJpbGlkYWRDb250ZW5pZG8gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkbycpXG5jb25zdCBmbGVjaGFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVzcG9uc2FiaWxpZGFkX19mbGVjaGEnKVxuXG5jb25zdCBleHBhbmRpck1lbnUgPSAoKSA9PiB7XG4gIGJvdHRvbk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYm90dG9uLW1lbnVfX2xvZ28tLWNlcnJhcicpXG4gIG5hdmVnYWNpb25QcmluY2lwYWwuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWwtLWV4dGVuZGlkYScpXG4gIG5hdmVnYWNpb25QcmluY2lwYWwuY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWwtLWV4dGVuZGlkYTInKVxuICBub3NvdHJvc0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWxfX25vc290cm9zLS1naXJvJylcbiAgc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKCduYXZlZ2FjaW9uLXByaW5jaXBhbF9fZG9zLS1leHRlbmRpZGEnKVxufVxuXG5jb25zdCBleHBhbmRpclN1Ym1lbnUgPSAoKSA9PiB7XG4gIG5vc290cm9zSXRlbS5jbGFzc0xpc3QudG9nZ2xlKCduYXZlZ2FjaW9uLXByaW5jaXBhbF9fbm9zb3Ryb3MtLWdpcm8nKVxuICBuYXZlZ2FjaW9uUHJpbmNpcGFsLmNsYXNzTGlzdC50b2dnbGUoJ25hdmVnYWNpb24tcHJpbmNpcGFsLS1leHRlbmRpZGEyJylcbiAgc3VibWVudS5jbGFzc0xpc3QudG9nZ2xlKCduYXZlZ2FjaW9uLXByaW5jaXBhbF9fZG9zLS1leHRlbmRpZGEnKVxufVxuXG4vLyBjb25zdCBhbmltYWNpb25TbGlkZSA9ICgpID0+IHtcbi8vICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7XG4vLyAgICAgYXJyYXlTbGlkZXIuZm9yRWFjaCgoaW1hZ2VuLCBpbmRleCkgPT4ge1xuLy8gICAgICAgaW1hZ2VuLnN0eWxlLmxlZnQgPSBgJHsoaW5kZXggLSAxKSAqIDEwMH0lYFxuLy8gICAgICAgaWYgKGltYWdlbi5zdHlsZS5sZWZ0ID09PSAnMCUnKSB7XG4vLyAgICAgICAgIGltYWdlbi5zdHlsZS56SW5kZXggPSAnMTAnXG4vLyAgICAgICB9XG4vLyAgICAgICBpZiAoaW1hZ2VuLnN0eWxlLmxlZnQgPT09ICcyMDAlJykge1xuLy8gICAgICAgICBpbWFnZW4uc3R5bGUuekluZGV4ID0gJy0xMCdcbi8vICAgICAgIH1cbi8vICAgICB9KVxuLy8gICB9XG4vLyB9XG5cbi8vIGxldCBpbnRlcnZhbG9TbGlkZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4vLyAgIGxldCBwcmltZXJJbWFnZW4gPSBhcnJheVNsaWRlci5zaGlmdCgpXG4vLyAgIGFycmF5U2xpZGVyLnB1c2gocHJpbWVySW1hZ2VuKVxuLy8gICBhbmltYWNpb25TbGlkZSgpXG4vLyB9LCA1MDAwKVxuXG4vLyBjb25zdCBjYW1iaWFySW1hZ2VuID0gKCkgPT4ge1xuLy8gICBjbGVhckludGVydmFsKGludGVydmFsb1NsaWRlcilcbi8vICAgbGV0IGludGVydmFsb1NsaWRlcjEgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4vLyAgICAgbGV0IHByaW1lckltYWdlbiA9IGFycmF5U2xpZGVyLnNoaWZ0KClcbi8vICAgICBhcnJheVNsaWRlci5wdXNoKHByaW1lckltYWdlbilcbi8vICAgICBhbmltYWNpb25TbGlkZSgpXG4vLyAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbG9TbGlkZXIxKVxuLy8gICB9LCAxMDApXG4vLyAgIGludGVydmFsb1NsaWRlciA9IHNldEludGVydmFsKCgpID0+IHtcbi8vICAgICBsZXQgcHJpbWVySW1hZ2VuID0gYXJyYXlTbGlkZXIuc2hpZnQoKVxuLy8gICAgIGFycmF5U2xpZGVyLnB1c2gocHJpbWVySW1hZ2VuKVxuLy8gICAgIGFuaW1hY2lvblNsaWRlKClcbi8vICAgfSwgNTAwMClcbi8vIH1cblxuY29uc3Qgc3ViaXIgPSAoKSA9PiB7XG4gIGxldCBzY3JvbGxTdGVwID0gLXdpbmRvdy5zY3JvbGxZIC8gKDUwMCAvIDMpXG4gIGxldCBzY3JvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBpZiAod2luZG93LnNjcm9sbFkgIT09IDApIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxCeSg1MDAsIHNjcm9sbFN0ZXApXG4gICAgfSBlbHNlIGNsZWFySW50ZXJ2YWwoc2Nyb2xsSW50ZXJ2YWwpXG4gIH0sIDEpXG59XG5cbmNvbnN0IGJhamFyID0gKHNjcm9sbCkgPT4ge1xuICBsZXQgYmFqYXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgZG9jLnNjcm9sbFRvcCArPSBzY3JvbGwgLyA0MFxuICAgIGlmIChkb2Muc2Nyb2xsVG9wID4gc2Nyb2xsKSB7XG4gICAgICBjbGVhckludGVydmFsKGJhamFyKVxuICAgIH1cbiAgfSwgMTApXG59XG5cbmNvbnN0IG1vc3RyYXJCb3RvbkFycmliYSA9ICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiA0MDAgJiYgYXJyaWJhKSB7XG4gICAgYXJyaWJhLnN0eWxlLnJpZ2h0ID0gJzFlbSdcbiAgfSBlbHNlIHtcbiAgICBhcnJpYmEuc3R5bGUucmlnaHQgPSAnLTVlbSdcbiAgfVxufVxuXG5jb25zdCBtb3N0cmFyRmFzZSA9IChpbmRleCkgPT4ge1xuICBsZXQgc3BhbiA9IEFycmF5LmZyb20oZmxlY2hhcylcbiAgbGV0IGNvbnRlbmlkbyA9IEFycmF5LmZyb20ocmVzcG9uc2FiaWxpZGFkQ29udGVuaWRvKVxuXG4gIGNvbnRlbmlkby5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ3Jlc3BvbnNhYmlsaWRhZF9fY29udGVuaWRvLS1leHRlbmRpZG8nKVxuICAgICAgc3BhbltpXS5jbGFzc0xpc3QudG9nZ2xlKCdyZXNwb25zYWJpbGlkYWRfX2ZsZWNoYS0tZ2lybycpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW5baV0uY2xhc3NMaXN0LnJlbW92ZSgncmVzcG9uc2FiaWxpZGFkX19mbGVjaGEtLWdpcm8nKVxuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJylcbiAgICB9XG4gIH0pXG5cbiAgaWYgKCFBcnJheS5mcm9tKGNvbnRlbmlkb1swXS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykgJiZcbiAgICAgICFBcnJheS5mcm9tKGNvbnRlbmlkb1sxXS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykpIHtcbiAgICBzdWJpcigpXG4gIH1cblxuICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDMwMHB4KScpLm1hdGNoZXMgJiZcbiAgICAgIEFycmF5LmZyb20oY29udGVuaWRvW2luZGV4XS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykpIHtcbiAgICBiYWphcig0OTApXG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDMwNXB4KScpLm1hdGNoZXMgJiZcbiAgICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNTc0cHgpJykubWF0Y2hlcyAmJlxuICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVuaWRvW2luZGV4XS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykpIHtcbiAgICBiYWphcig0MzApXG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDU3NXB4KScpLm1hdGNoZXMgJiZcbiAgICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzE5cHgpJykubWF0Y2hlcyAmJlxuICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVuaWRvW2luZGV4XS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykpIHtcbiAgICBiYWphcigzODApXG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDcyMHB4KScpLm1hdGNoZXMgJiZcbiAgICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogODg4cHgpJykubWF0Y2hlcyAmJlxuICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVuaWRvW2luZGV4XS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdyZXNwb25zYWJpbGlkYWRfX2NvbnRlbmlkby0tZXh0ZW5kaWRvJykpIHtcbiAgICBiYWphcig1NTApXG4gIH0gZWxzZSBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDg4OXB4KScpLm1hdGNoZXMgJiZcbiAgICAgICAgICAgICBBcnJheS5mcm9tKGNvbnRlbmlkb1tpbmRleF0uY2xhc3NMaXN0KS5pbmNsdWRlcygncmVzcG9uc2FiaWxpZGFkX19jb250ZW5pZG8tLWV4dGVuZGlkbycpKSB7XG4gICAgYmFqYXIoNDcwKVxuICB9XG59XG5cbm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBleHBhbmRpck1lbnUoKSlcbm5vc290cm9zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZXhwYW5kaXJTdWJtZW51KCkpXG4vLyBpZiAoYm90dG9uU2xpZGVyKSBib3R0b25TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjYW1iaWFySW1hZ2VuKCkpXG5pZiAoYWNvcmRlb24pIEFycmF5LmZyb20oYWNvcmRlb24pLmZvckVhY2goKGZhc2UsIGluZGV4KSA9PiBmYXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9zdHJhckZhc2UoaW5kZXgpKSlcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiBtb3N0cmFyQm90b25BcnJpYmEoKSlcbmlmIChhcnJpYmEpIGFycmliYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHN1YmlyKCkpXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuLy8gICBlLnByZXZlbnREZWZhdWx0KClcbi8vICAgaWYgKEFycmF5LmZyb20oYm90dG9uTWVudS5jbGFzc0xpc3QpLmluY2x1ZGVzKCdib3R0b24tbWVudV9fbG9nby0tY2VycmFyJykpIHtcbi8vICAgICBib3R0b25NZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2JvdHRvbi1tZW51X19sb2dvLS1jZXJyYXInKVxuLy8gICB9XG4vLyAgIG5hdmVnYWNpb25QcmluY2lwYWwuY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWwtLWV4dGVuZGlkYScpXG4vLyAgIG5hdmVnYWNpb25QcmluY2lwYWwuY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWwtLWV4dGVuZGlkYTInKVxuLy8gICBub3NvdHJvc0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbmF2ZWdhY2lvbi1wcmluY2lwYWxfX25vc290cm9zLS1naXJvJylcbi8vICAgc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKCduYXZlZ2FjaW9uLXByaW5jaXBhbF9fZG9zLS1leHRlbmRpZGEnKVxuLy8gfSlcbiIsImNvbnN0IGVzdGlsb1ZpZGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXN0aWxvLXZpZGEnKVxuY29uc3QgYmllbmVzdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpZW5lc3RhcicpXG5jb25zdCB0ZW5kZW5jaWFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbmRlbmNpYXMnKVxuXG5jb25zb2xlLmxvZyhlc3RpbG9WaWRhLmNoaWxkRWxlbWVudENvdW50KVxuY29uc29sZS5sb2coYmllbmVzdGFyLmNoaWxkRWxlbWVudENvdW50KVxuY29uc29sZS5sb2codGVuZGVuY2lhcy5jaGlsZEVsZW1lbnRDb3VudClcblxuLypcbiAgODA3XG4gIDExNDNcbiAqL1xuIiwiaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygncHJvZHVjdG9zJykgfHxcbiAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcHJ1ZWJhLWxpdi8nIHx8XG4gICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnLycpIHtcbiAgLy8gY29uc3QgYm90dG9uU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvdHRvbi1zbGlkZXInKVxuICBjb25zdCBwcm9kdWN0b3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NsaWRlci1wcm9kdWN0b3NfX2ltYWdlbicpKVxuICBjb25zdCBhbnRlcmlvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Rvbi1hbnRlcmlvcicpXG4gIGNvbnN0IHNpZ3VpZW50ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Rvbi1zaWd1aWVudGUnKVxuICBsZXQgc2xpZGVyUHJvZHVjdG9zXG5cbiAgY29uc3QgcmVjb3JyZXJDbGFzZXMgPSAoKSA9PiB7XG4gICAgcHJvZHVjdG9zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBpdGVtLnN0eWxlLnpJbmRleCA9IGAke2luZGV4fWBcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1wcm9kdWN0b3NfX2ltYWdlbi0tdHJhbnNwYXJlbnRlJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLXByb2R1Y3Rvc19faW1hZ2VuLS10cmFuc3BhcmVudGUnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBhZ3JhZ2FyU2xpZGVyID0gKCkgPT4ge1xuICAgIHNsaWRlclByb2R1Y3RvcyA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHByb2R1Y3Rvc1twcm9kdWN0b3MubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXByb2R1Y3Rvc19faW1hZ2VuLS10cmFuc3BhcmVudGUnKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCB1bHRpbW8gPSBwcm9kdWN0b3MucG9wKClcbiAgICAgICAgcHJvZHVjdG9zLnVuc2hpZnQodWx0aW1vKVxuICAgICAgICBwcm9kdWN0b3NbMF0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLXByb2R1Y3Rvc19faW1hZ2VuLS10cmFuc3BhcmVudGUnKVxuICAgICAgICByZWNvcnJlckNsYXNlcygpXG4gICAgICB9LCA0MDApXG4gICAgfSwgNTAwMClcbiAgfVxuXG4gIGNvbnN0IHByb2R1Y3RvQW50ZXJpb3IgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbChzbGlkZXJQcm9kdWN0b3MpXG4gICAgbGV0IHByaW1lcm8gPSBwcm9kdWN0b3Muc2hpZnQoKVxuICAgIHByb2R1Y3Rvcy5wdXNoKHByaW1lcm8pXG4gICAgcmVjb3JyZXJDbGFzZXMoKVxuICAgIGFncmFnYXJTbGlkZXIoKVxuICB9XG5cbiAgY29uc3QgcHJvZHVjdG9TaWd1aWVudGUgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbChzbGlkZXJQcm9kdWN0b3MpXG4gICAgbGV0IHVsdGltbyA9IHByb2R1Y3Rvcy5wb3AoKVxuICAgIHVsdGltby5jbGFzc0xpc3QuYWRkKCdzbGlkZXItcHJvZHVjdG9zX19pbWFnZW4tLXRyYW5zcGFyZW50ZScpXG4gICAgcHJvZHVjdG9zLnVuc2hpZnQodWx0aW1vKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVjb3JyZXJDbGFzZXMoKVxuICAgIH0sIDQwMClcbiAgICBhZ3JhZ2FyU2xpZGVyKClcbiAgfVxuXG4gIHJlY29ycmVyQ2xhc2VzKClcbiAgYWdyYWdhclNsaWRlcigpXG5cbiAgaWYgKGFudGVyaW9yKSBhbnRlcmlvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHByb2R1Y3RvQW50ZXJpb3IoKSlcbiAgaWYgKHNpZ3VpZW50ZSkgc2lndWllbnRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcHJvZHVjdG9TaWd1aWVudGUoKSlcbn1cbiJdfQ==
